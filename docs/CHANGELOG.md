# 更新日志 (Changelog)

本文档记录了 Word2PDF 转换服务的所有重要变更。

## [1.0.1] - 2024-12-20

### 🚀 新增功能
- 全面优化中文字符支持
- 新增智能字体检测和映射机制
- 添加中文测试文档模板

### 🔧 优化改进

#### POI转换器优化
- ✅ 实现自定义中文字体提供器 (`ChineseFontProvider`)
- ✅ 支持多平台中文字体路径自动检测 (macOS/Windows/Linux)
- ✅ 字体缓存机制，提升转换性能
- ✅ Unicode编码支持，确保中文字符正确显示
- ✅ 字体回退机制，增强兼容性

#### Docx4j转换器优化
- ✅ 实现智能字体映射器 (`IdentityPlusMapper`)
- ✅ 自动发现系统可用中文字体
- ✅ 支持多种中文字体映射（宋体、黑体、微软雅黑、苹方等）
- ✅ 字体检测日志记录，便于调试
- ✅ 解决中文字符显示为"#"的问题
- ✅ 增强字符编码配置，确保UTF-8支持
- ✅ 添加字体映射降级策略，提高转换成功率
- ✅ 优化FO设置，改善中文文本渲染质量
- ✅ 支持跨平台中文字体自动识别

#### LibreOffice转换器
- ✅ 确认原生中文支持，无需额外配置

### 📦 依赖更新
- 新增 `itext-asian 5.2.0` - 亚洲字体支持
- 新增 `batik-all 1.17` - SVG和图形处理增强

### 📚 文档更新
- 更新 README.md，添加中文支持说明
- 更新 USAGE_GUIDE.md，添加中文优化详情
- 新增 test_chinese.md 中文测试文档模板
- 完善转换器对比表格，增加中文支持状态

### 🐛 问题修复
- 修复 POI 转换器中文字符丢失问题
- 修复 Docx4j 转换器中文字符显示为"#"问题
- 改善字体检测和加载机制
- 优化错误处理和日志记录

### 🔍 调试增强
- 新增详细的字体检测日志
- 新增字体映射状态日志
- 改善错误信息的可读性

---

## [1.0.0] - 2024-12-20

### 🎉 初始版本发布

#### 核心功能
- ✅ 基于 Spring Boot 3.5.3 + JDK 21 的现代化架构
- ✅ 三种 Word 转 PDF 转换引擎：
  - POI-based 转换器（Apache POI + iText）
  - Docx4j-based 转换器（docx4j库）
  - LibreOffice-based 转换器（命令行集成）

#### API 接口
- ✅ RESTful API 设计
- ✅ 多部分文件上传支持
- ✅ 转换器性能对比功能
- ✅ 文件下载管理
- ✅ 转换历史记录

#### 性能监控
- ✅ 详细的转换时间统计
- ✅ 文件大小对比分析
- ✅ 转换成功率统计
- ✅ 性能基准测试

#### 用户界面
- ✅ 简洁的 Web 测试界面
- ✅ 实时转换状态显示
- ✅ 结果展示和文件下载

#### 系统特性
- ✅ 全局异常处理机制
- ✅ 请求参数验证
- ✅ 临时文件自动清理
- ✅ 详细的日志记录
- ✅ 可配置的转换超时

#### 开发工具
- ✅ Maven 构建配置
- ✅ API 测试脚本 (test_api.sh)
- ✅ 完整的项目文档
- ✅ 使用指南和示例

---

## 版本规划

### [1.1.0] - 计划中
- 支持更多文档格式 (.doc, .rtf)
- 批量转换功能
- 转换模板和样式自定义
- 异步转换任务队列
- 转换结果缓存机制

### [1.2.0] - 计划中  
- Docker 容器化部署
- 分布式转换集群
- 转换任务监控面板
- 用户认证和权限管理
- API 限流和配额管理

---

## 支持与反馈

如果您在使用过程中遇到问题或有改进建议，请：

1. 查看 [故障排除](../README.md#故障排除) 部分
2. 检查 [已知问题](https://github.com/sunyuan686/word2pdf/issues)
3. 提交新的 [Issue](https://github.com/sunyuan686/word2pdf/issues/new)
4. 参与 [讨论](https://github.com/sunyuan686/word2pdf/discussions)

---

**注意**: 本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范。 